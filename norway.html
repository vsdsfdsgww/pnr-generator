<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Norwegian FÃ¸dselsnummer Generator - Free Valid Birth Number Generator for Testing</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Generate valid Norwegian fÃ¸dselsnummer (birth numbers) for testing. Free online tool using Modulo 11 validation with two check digits. Format: DDMMYYIIICC. Perfect for developers and QA testing Norwegian applications.">
    <meta name="keywords" content="fÃ¸dselsnummer generator, Norwegian birth number, Norwegian personal number, Norway test data, Modulo 11 algorithm, Norwegian identity number, fake fÃ¸dselsnummer, development testing, QA testing Norway, personnummer Norge">
    <meta name="author" content="Nordic PNR Generator">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English, Norwegian">
    <link rel="canonical" href="https://vsdsfdsgww.github.io/pnr-generator/norway.html">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vsdsfdsgww.github.io/pnr-generator/norway.html">
    <meta property="og:title" content="Norwegian FÃ¸dselsnummer Generator - Free Valid Test Data">
    <meta property="og:description" content="Generate syntactically correct Norwegian fÃ¸dselsnummer for testing and development. Uses official Modulo 11 validation. Free online tool for developers.">
    <meta property="og:site_name" content="Nordic PNR Generator">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="nb_NO">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://vsdsfdsgww.github.io/pnr-generator/norway.html">
    <meta name="twitter:title" content="Norwegian FÃ¸dselsnummer Generator - Free Testing Tool">
    <meta name="twitter:description" content="Generate valid Norwegian fÃ¸dselsnummer with Modulo 11 validation. Free tool for testing Norwegian applications and government forms.">

    <!-- Theme & Icons -->
    <meta name="theme-color" content="#1a1a2e">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.svg">
    <link rel="mask-icon" href="favicon.svg" color="#4a90e2">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="app-header">
        <div class="header-content">
            <a href="index.html" class="logo-section">
                <div class="logo-icon">
                    <i class="fa-solid fa-fingerprint"></i>
                </div>
                <h1>Nordic PNR Generator</h1>
            </a>
            <a href="index.html" class="header-action">
                <i class="fa-solid fa-arrow-left"></i> Back
            </a>
        </div>
    </header>

    <main class="main-content">
        <div class="generator-layout">
            <!-- Control Panel -->
            <div class="control-panel">
                <h2 class="panel-header">Configuration</h2>

                <form id="pnrForm">
                    <div class="form-group">
                        <label for="country">Country</label>
                        <div class="select-wrapper">
                            <select id="country" onchange="handleCountryChange(this.value)">
                                <option value="sweden">ðŸ‡¸ðŸ‡ª Sweden (Personnummer)</option>
                                <option value="denmark">ðŸ‡©ðŸ‡° Denmark (CPR Number)</option>
                                <option value="norway" selected>ðŸ‡³ðŸ‡´ Norway (FÃ¸dselsnummer)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Input Method</label>
                        <div class="radio-grid">
                            <label class="radio-option">
                                <input type="radio" name="inputMethod" value="age" checked onchange="toggleInputMethod()">
                                <span class="radio-label">
                                    <i class="fa-solid fa-calendar-day"></i> Age
                                </span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="inputMethod" value="birthdate" onchange="toggleInputMethod()">
                                <span class="radio-label">
                                    <i class="fa-solid fa-calendar"></i> Birth Date
                                </span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group" id="ageGroup">
                        <label for="age">Age</label>
                        <input type="number" id="age" min="0" max="120" value="25" placeholder="e.g. 25">
                    </div>

                    <div class="form-group" id="birthDateGroup" style="display: none;">
                        <label for="birthDate">Birth Date</label>
                        <input type="text" id="birthDate" value="2000" placeholder="e.g. 1990, 1990-05, or 1990-05-15">
                        <div class="input-hint">Enter year (YYYY), year-month (YYYY-MM), or full date (YYYY-MM-DD)</div>
                    </div>

                    <div class="form-group">
                        <label>Legal Sex</label>
                        <div class="radio-grid">
                            <label class="radio-option">
                                <input type="radio" name="sex" value="male" checked>
                                <span class="radio-label">
                                    <i class="fa-solid fa-mars"></i> Male
                                </span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="sex" value="female">
                                <span class="radio-label">
                                    <i class="fa-solid fa-venus"></i> Female
                                </span>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="generate-btn">
                        <i class="fa-solid fa-wand-magic-sparkles"></i>
                        Generate PNR
                    </button>
                </form>

                <div class="info-box">
                    <i class="fa-solid fa-circle-info"></i>
                    <p>Norway uses Modulo 11 with two check digits. Format: DDMMYYIIICC. Serial ranges depend on birth century. 3rd digit indicates sex (Odd: Male, Even: Female).</p>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="results-panel">
                <div class="results-header">
                    <h3>Generated History</h3>
                    <button class="clear-btn" onclick="clearHistory()">Clear All</button>
                </div>
                <div id="resultList" class="results-list">
                    <div class="results-empty">
                        <div class="empty-icon">
                            <i class="fa-regular fa-id-card"></i>
                        </div>
                        <p>No numbers generated yet.</p>
                        <p>Fill the form and click generate.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-description">
                <h3>Norwegian FÃ¸dselsnummer Generator</h3>
                <p>Generate valid Norwegian fÃ¸dselsnummer (birth numbers) for testing and development purposes. Our tool creates syntactically correct Norwegian personal identity numbers that follow the official format (DDMMYYIIICC) and pass Modulo 11 validation with two check digits. Essential for developers, testers, and QA professionals who need authentic test data for Norwegian applications, government forms, and databases without using real citizen information.</p>
                <div class="footer-lang-divider"></div>
                <h3>Norsk FÃ¸dselsnummer Generator</h3>
                <p>Generer gyldige norske fÃ¸dselsnummer for test- og utviklingsformÃ¥l. VÃ¥rt verktÃ¸y skaper syntaktisk korrekte norske personnummer som fÃ¸lger det offisielle formatet (DDMMÃ…Ã…IIICC) og bestÃ¥r Modulo 11-validering med to kontrollsifre. Essensielt for utviklere, testere og QA-profesjonelle som trenger autentiske testdata for norske applikasjoner, offentlige skjemaer og databaser uten Ã¥ bruke ekte personinformasjon.</p>
            </div>
            <div class="footer-meta">
                <p>Generates syntactically valid numbers for testing purposes.</p>
                <p class="footer-small">Algorithms implemented: Luhn (SE), Mod11 (NO/DK).</p>
            </div>
        </div>
    </footer>

    <script>
        const STORAGE_KEY = 'norway_pnr_history';

        function handleCountryChange(country) {
            const countryMap = {
                'sweden': 'sweden.html',
                'denmark': 'denmark.html',
                'norway': 'norway.html'
            };
            if (countryMap[country]) {
                window.location.href = countryMap[country];
            }
        }

        function saveToStorage(data) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        function loadFromStorage() {
            const stored = localStorage.getItem(STORAGE_KEY);
            return stored ? JSON.parse(stored) : [];
        }

        function calculateNorwegianCheckDigits(baseNumber) {
            const weights1 = [3, 7, 6, 1, 8, 9, 4, 5, 2];
            const weights2 = [5, 4, 3, 2, 7, 6, 5, 4, 3, 2];

            let sum1 = 0;
            for (let i = 0; i < 9; i++) {
                sum1 += parseInt(baseNumber[i]) * weights1[i];
            }
            const checkDigit1 = (11 - (sum1 % 11)) % 11;

            if (checkDigit1 === 10) return null;

            const withFirstCheck = baseNumber + checkDigit1;
            let sum2 = 0;
            for (let i = 0; i < 10; i++) {
                sum2 += parseInt(withFirstCheck[i]) * weights2[i];
            }
            const checkDigit2 = (11 - (sum2 % 11)) % 11;

            if (checkDigit2 === 10) return null;

            return checkDigit1.toString() + checkDigit2.toString();
        }

        function generateNorwegianFodselsnummer(age, sex) {
            let attempts = 0;
            const maxAttempts = 100;

            while (attempts < maxAttempts) {
                const today = new Date();
                const birthYear = today.getFullYear() - age;
                const birthMonth = Math.floor(Math.random() * 12) + 1;
                const birthDay = Math.floor(Math.random() * 28) + 1;

                const dayStr = String(birthDay).padStart(2, '0');
                const monthStr = String(birthMonth).padStart(2, '0');
                const yearStr = String(birthYear).substring(2);

                let individualNum;
                const centuryMin = birthYear >= 2000 ? 500 : 0;
                const centuryMax = birthYear >= 2000 ? 999 : 499;

                if (sex === 'male') {
                    individualNum = centuryMin + Math.floor(Math.random() * ((centuryMax - centuryMin) / 2)) * 2 + 1;
                } else {
                    individualNum = centuryMin + Math.floor(Math.random() * ((centuryMax - centuryMin) / 2)) * 2;
                }

                const individualStr = String(individualNum).padStart(3, '0');
                const baseNumber = dayStr + monthStr + yearStr + individualStr;

                const checkDigits = calculateNorwegianCheckDigits(baseNumber);
                if (checkDigits !== null) {
                    return baseNumber + checkDigits;
                }

                attempts++;
            }

            return null;
        }

        function copyToClipboard(text, btn) {
            navigator.clipboard.writeText(text).then(() => {
                const icon = btn.querySelector('i');
                const resultItem = btn.closest('.result-item');

                icon.className = "fa-solid fa-check";
                btn.classList.add('copied');
                resultItem.classList.add('copied');

                // Update storage
                const history = loadFromStorage();
                const index = history.findIndex(item => item.pnr === text);
                if (index !== -1) {
                    history[index].isCopied = true;
                    saveToStorage(history);
                }
            });
        }

        function formatDateTime(timestamp) {
            const date = new Date(timestamp);
            const dateStr = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            const timeStr = date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
            return `${dateStr} â€¢ ${timeStr}`;
        }

        function addResult(pnr, details, sex, isAutoGenerated = false, isCopied = false, timestamp = null) {
            const list = document.getElementById('resultList');

            if (list.querySelector('.results-empty')) {
                list.innerHTML = '';
            }

            const ts = timestamp || Date.now();
            const dateTimeStr = formatDateTime(ts);

            const item = document.createElement('div');
            item.className = "result-item" + (isCopied ? " copied" : "");

            const sexIcon = sex === 'male'
                ? '<i class="fa-solid fa-mars" style="color: var(--color-male);"></i>'
                : '<i class="fa-solid fa-venus" style="color: var(--color-female);"></i>';

            const autoBadge = isAutoGenerated
                ? '<span class="autogenerated-badge"><i class="fa-solid fa-sparkles"></i> Auto-generated</span>'
                : '';

            const copyIcon = isCopied ? 'fa-solid fa-check' : 'fa-regular fa-copy';
            const copyClass = isCopied ? 'copy-btn copied' : 'copy-btn';

            item.innerHTML = `
                <div class="result-content">
                    <div class="result-number-row">
                        <span class="result-number">${pnr}</span>
                        <span class="sex-badge">${sexIcon}</span>
                        ${autoBadge}
                        <button onclick="copyToClipboard('${pnr}', this)" class="${copyClass}" title="Copy">
                            <i class="${copyIcon}"></i>
                        </button>
                    </div>
                    <div class="result-details">${details}</div>
                </div>
                <div class="result-timestamp"><i class="fa-regular fa-clock"></i> ${dateTimeStr}</div>
            `;

            list.insertBefore(item, list.firstChild);

            // Save to storage
            const history = loadFromStorage();
            history.unshift({ pnr, details, sex, isAutoGenerated, isCopied, timestamp: ts });
            saveToStorage(history);
        }

        function clearHistory() {
            const list = document.getElementById('resultList');
            list.innerHTML = `
                <div class="results-empty">
                    <div class="empty-icon">
                        <i class="fa-regular fa-id-card"></i>
                    </div>
                    <p>No numbers generated yet.</p>
                    <p>Fill the form and click generate.</p>
                </div>
            `;
            localStorage.removeItem(STORAGE_KEY);
        }

        function getTimeLabel(timestamp) {
            if (!timestamp) return null; // No timestamp available

            const now = new Date();
            const date = new Date(timestamp);

            // Check if date is valid
            if (isNaN(date.getTime())) return null;

            const nowDay = new Date(now.getFullYear(), now.getMonth(), now.getDate());
            const itemDay = new Date(date.getFullYear(), date.getMonth(), date.getDate());

            const diffTime = nowDay - itemDay;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays === 0) return null; // Today - no separator
            if (diffDays === 1) return 'Yesterday';
            if (diffDays < 7) return `${diffDays} days ago`;
            if (diffDays < 30) {
                const weeks = Math.floor(diffDays / 7);
                return weeks === 1 ? '1 week ago' : `${weeks} weeks ago`;
            }
            if (diffDays < 365) {
                const months = Math.floor(diffDays / 30);
                return months === 1 ? '1 month ago' : `${months} months ago`;
            }
            const years = Math.floor(diffDays / 365);
            return years === 1 ? '1 year ago' : `${years} years ago`;
        }

        function loadHistory() {
            const history = loadFromStorage();
            if (history.length > 0) {
                const list = document.getElementById('resultList');
                list.innerHTML = '';

                let lastLabel = null;
                history.forEach(item => {
                    const currentLabel = getTimeLabel(item.timestamp);

                    if (currentLabel && currentLabel !== lastLabel) {
                        const separator = document.createElement('div');
                        separator.className = 'history-separator';
                        separator.textContent = currentLabel;
                        list.appendChild(separator);
                        lastLabel = currentLabel;
                    }

                    addResultWithoutSaving(item.pnr, item.details, item.sex, item.isAutoGenerated, item.isCopied, item.timestamp);
                });
            }
        }

        function addResultWithoutSaving(pnr, details, sex, isAutoGenerated = false, isCopied = false, timestamp = null) {
            const list = document.getElementById('resultList');

            if (list.querySelector('.results-empty')) {
                list.innerHTML = '';
            }

            const dateTimeStr = formatDateTime(timestamp || Date.now());

            const item = document.createElement('div');
            item.className = "result-item" + (isCopied ? " copied" : "");

            const sexIcon = sex === 'male'
                ? '<i class="fa-solid fa-mars" style="color: var(--color-male);"></i>'
                : '<i class="fa-solid fa-venus" style="color: var(--color-female);"></i>';

            const autoBadge = isAutoGenerated
                ? '<span class="autogenerated-badge"><i class="fa-solid fa-sparkles"></i> Auto-generated</span>'
                : '';

            const copyIcon = isCopied ? 'fa-solid fa-check' : 'fa-regular fa-copy';
            const copyClass = isCopied ? 'copy-btn copied' : 'copy-btn';

            item.innerHTML = `
                <div class="result-content">
                    <div class="result-number-row">
                        <span class="result-number">${pnr}</span>
                        <span class="sex-badge">${sexIcon}</span>
                        ${autoBadge}
                        <button onclick="copyToClipboard('${pnr}', this)" class="${copyClass}" title="Copy">
                            <i class="${copyIcon}"></i>
                        </button>
                    </div>
                    <div class="result-details">${details}</div>
                </div>
                <div class="result-timestamp"><i class="fa-regular fa-clock"></i> ${dateTimeStr}</div>
            `;

            list.appendChild(item);
        }

        function toggleInputMethod() {
            const method = document.querySelector('input[name="inputMethod"]:checked').value;
            const ageGroup = document.getElementById('ageGroup');
            const birthDateGroup = document.getElementById('birthDateGroup');

            if (method === 'age') {
                ageGroup.style.display = 'block';
                birthDateGroup.style.display = 'none';
                document.getElementById('age').required = true;
                document.getElementById('birthDate').required = false;
            } else {
                ageGroup.style.display = 'none';
                birthDateGroup.style.display = 'block';
                document.getElementById('age').required = false;
                document.getElementById('birthDate').required = true;
            }
        }

        function parseBirthDate(input) {
            const parts = input.trim().split('-');
            const today = new Date();
            let year, month, day;

            if (parts.length === 1) {
                // Year only (e.g., "1990")
                year = parseInt(parts[0]);
                month = Math.floor(Math.random() * 12) + 1;
                day = Math.floor(Math.random() * 28) + 1;
            } else if (parts.length === 2) {
                // Year-Month (e.g., "1990-05")
                year = parseInt(parts[0]);
                month = parseInt(parts[1]);
                day = Math.floor(Math.random() * 28) + 1;
            } else if (parts.length === 3) {
                // Full date (e.g., "1990-05-15")
                year = parseInt(parts[0]);
                month = parseInt(parts[1]);
                day = parseInt(parts[2]);
            } else {
                return null;
            }

            if (isNaN(year) || year < 1900 || year > today.getFullYear()) {
                return null;
            }
            if (isNaN(month) || month < 1 || month > 12) {
                return null;
            }
            if (isNaN(day) || day < 1 || day > 31) {
                return null;
            }

            const age = today.getFullYear() - year;
            return { year, month, day, age };
        }

        function generateNorwegianFodselsnummerFromDate(year, month, day, sex) {
            let attempts = 0;
            const maxAttempts = 100;

            while (attempts < maxAttempts) {
                const dayStr = String(day).padStart(2, '0');
                const monthStr = String(month).padStart(2, '0');
                const yearStr = String(year).substring(2);

                let individualNum;
                const centuryMin = year >= 2000 ? 500 : 0;
                const centuryMax = year >= 2000 ? 999 : 499;

                if (sex === 'male') {
                    individualNum = centuryMin + Math.floor(Math.random() * ((centuryMax - centuryMin) / 2)) * 2 + 1;
                } else {
                    individualNum = centuryMin + Math.floor(Math.random() * ((centuryMax - centuryMin) / 2)) * 2;
                }

                const individualStr = String(individualNum).padStart(3, '0');
                const baseNumber = dayStr + monthStr + yearStr + individualStr;

                const checkDigits = calculateNorwegianCheckDigits(baseNumber);
                if (checkDigits !== null) {
                    return baseNumber + checkDigits;
                }

                attempts++;
            }

            return null;
        }

        document.getElementById('pnrForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const method = document.querySelector('input[name="inputMethod"]:checked').value;
            const sex = document.querySelector('input[name="sex"]:checked').value;
            let pnr, birthYear, details;

            if (method === 'age') {
                const ageInput = document.getElementById('age');
                const age = parseInt(ageInput.value);

                if (!age || age < 0 || age > 120) {
                    ageInput.focus();
                    return;
                }

                pnr = generateNorwegianFodselsnummer(age, sex);
                birthYear = new Date().getFullYear() - age;
            } else {
                const birthDateInput = document.getElementById('birthDate');
                const birthDateValue = birthDateInput.value;

                if (!birthDateValue) {
                    birthDateInput.focus();
                    return;
                }

                const parsed = parseBirthDate(birthDateValue);
                if (!parsed) {
                    alert('Invalid date format. Use YYYY, YYYY-MM, or YYYY-MM-DD');
                    birthDateInput.focus();
                    return;
                }

                pnr = generateNorwegianFodselsnummerFromDate(parsed.year, parsed.month, parsed.day, sex);
                birthYear = parsed.year;
            }

            if (pnr) {
                details = `Norway â€¢ Born ${birthYear}`;
                addResult(pnr, details, sex);
            } else {
                alert('Failed to generate a valid number. Please try again.');
            }
        });

        // Load history and auto-generate on page load
        window.addEventListener('DOMContentLoaded', function() {
            const history = loadFromStorage();

            if (history.length > 0) {
                loadHistory();
            } else {
                // Only auto-generate if no history exists
                const age = 25;
                const sex = 'male';
                const pnr = generateNorwegianFodselsnummer(age, sex);

                if (pnr) {
                    const birthYear = new Date().getFullYear() - age;
                    const details = `Norway â€¢ Born ${birthYear}`;
                    addResult(pnr, details, sex, true);
                }
            }
        });
    </script>
</body>
<!-- Data Hypo Tracking Code -->
<script>
  (function () {
    var script = document.createElement('script');
    script.async = true; // Use async as in your original code.
    script.src = "https://analytics.datahypo.com/js/client-tracker.js?userGuid=9a8ba37a-602c-4e3d-b018-5db5378d2050";
    document.head.appendChild(script);
  })();
</script>
<!-- End Data Hypo Tracking Code -->
</html>
